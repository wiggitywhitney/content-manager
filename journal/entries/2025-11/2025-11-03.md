

## 3:19:40 PM CST - Commit: b1517578 - docs: document Micro.blog scheduled post rescheduling bug and workaround

### Summary - b1517578

The developer documented a known issue with the Micro.blog scheduled post feature, detailing a bug where rescheduled posts were publishing at all scheduled times instead of just the final time, creating duplicate posts on the live site. In the chat sessions, discussions centered around troubleshooting this issue, where the developer sought to delete duplicate posts that were still appearing despite being marked as deleted in the backend. The assistant helped identify that the problem stemmed from a disconnect between the backend database and the static site generator, which included deleted posts in the HTML output.

The developer expressed concerns about changing fundamental aspects of the codebase without understanding the root cause of the issue, which led to a collaborative effort to diagnose the problem. Ultimately, the support team from Micro.blog suggested performing a full site rebuild, which the developer successfully executed, resolving the issue of phantom posts. Following this resolution, the developer added a comprehensive section to the documentation that outlines the problem, its cause, the solution, and best practices to prevent it in the future.

### Development Dialogue - b1517578

> **Human:** "please use @docs/microblog-api-capabilities.md and help me. whitneylee.com keeps posting the same post every day at 9:30 am and I manually delete it in the back end but it is still on my site. It is not a problem with our software. All I want you to do is to try and delete these two posts via the Micro.blog API. I think it's a bug with Micro.blog. [Image #1] The problematic post is "Pixie: Instant Kubernetes Visibility with eBPF" from yesterday and today. I want both deleted."

> **Assistant:** "I'll help you delete those duplicate "Pixie: Instant Kubernetes Visibility with eBPF" posts using the Micro.blog Micropub API. Let me first query for the posts to get their exact URLs, then delete them."

> **Human:** "This has worked a thousand times before. This change should not be necessary."

> **Assistant:** "You're right, let me check how the other scripts in the project are run:"

> **Human:** "I see why you're changing that. I see that you're getting that error. I see that it all makes sense. But also, we've done this a hundred times. The sync script works. It's in production. I don't feel like we should be changing something so fundamental. Why did it change? What's the root cause here?"

> **Assistant:** "You're absolutely right to question this. Let me look at what's actually happening here: The root cause is: **I wrote a new script and made a mistake**. [...] The fix is correct: the script should use `MICROBLOG_APP_TOKEN` to match the rest of your codebase."

> **Human:** "Compose a message from me to micro.blog about this. The issue is that I used the scheduled post feature. I scheduled a post. I changed the scheduled time twice. The post published every scheduled time, not just the most recent scheduled time. And I can't delete the posts that were scheduled and moved. Those are my user experience. Please also include the technical details that you just discovered."

> **Assistant:** "Here's a message you can send to Micro.blog support: [...] Could you help resolve this issue and ensure the deleted posts are removed from my site?" 

> **Human:** "This worked! Let's document it." 

> **Assistant:** "Perfect! I've documented the scheduled post rescheduling bug and its solution in the Micro.blog API capabilities document. [...] Ready to commit?"

### Technical Decisions - b1517578

- **DECISION: Document Micro.blog Scheduled Post Rescheduling Bug** (Discussed) - FILES: docs/microblog-api-capabilities.md
  - Documented the problem of phantom duplicate posts when rescheduling.
  - Identified the root cause as a disconnect between the backend database and static site generator.
  - Proposed solution: Force a full site rebuild to clear phantom posts.
  - Suggested prevention measures to avoid the issue in the future.

### Commit Details - b1517578

**Files Changed**:
- docs/microblog-api-capabilities.md

**Lines Changed**: ~48 lines
**Message**: "docs: document Micro.blog scheduled post rescheduling bug and workaround"

═══════════════════════════════════════

